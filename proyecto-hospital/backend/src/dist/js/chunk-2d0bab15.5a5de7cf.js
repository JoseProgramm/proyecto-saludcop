(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bab15"],{"37fa":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container my-5"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("mdb-card",[t("mdb-card-body",[t("form",{attrs:{novalidate:""},on:{submit:function(a){return a.preventDefault(),e.agregarPaciente.apply(null,arguments)}}},[t("p",{staticClass:"h4 text-center py-4"},[e._v("Registo de pacientes")]),t("p",{staticClass:"text-muted text-center"},[e._v(" Completa los datos solicitados para el registro del paciente. La cama se asignada automaticamente en caso se encuentre disponible. En caso no existan camas disponibles entrara en la cola "),t("br"),t("i",{staticClass:"fas fa-warning"}),e._v(" Solo hay disponibles 50 camas para los pacientes "),t("br"),e.cantidadCamasDisponibles<=0?[t("i",{staticClass:"fas fa-times"}),t("strong",[e._v(" Actualmente no hay camas disponibles, entrara en cola")])]:[t("i",{staticClass:"fas fa-bell"}),e._v(" Actualmente cuentas con: "),t("strong",[e._v(e._s(e.cantidadCamasDisponibles))])]],2),t("div",{staticClass:"grey-text"},[t("h4",{staticClass:"text-left text-dark mt-5"},[e._v(" Datos personales del paciente ")]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Nombres",icon:"user",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.nombre,callback:function(a){e.$set(e.paciente,"nombre","string"===typeof a?a.trim():a)},expression:"paciente.nombre"}})],1),t("div",{staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Apellidos",icon:"user",group:"",type:"email",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.apellido,callback:function(a){e.$set(e.paciente,"apellido","string"===typeof a?a.trim():a)},expression:"paciente.apellido"}})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Edad",icon:"id-card",group:"",type:"number",min:0,max:100,validate:"",error:"wrong",success:"right",invalidFeedback:"Escribe una fecha a planificar",validation:"invalido"===e.paciente.edad},model:{value:e.paciente.edad,callback:function(a){e.$set(e.paciente,"edad",e._n(a))},expression:"paciente.edad"}})],1),t("div",{staticClass:"col-6"},[t("label",{staticClass:"form-label",attrs:{for:"sexo"}},[e._v("Sexo "),t("i",{staticClass:"fas fa-user-friends"})]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.paciente.sexo,expression:"paciente.sexo"}],staticClass:"form-control",attrs:{id:"sexo"},on:{change:function(a){var t=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var a="_value"in e?e._value:e.value;return a}));e.$set(e.paciente,"sexo",a.target.multiple?t:t[0])}}},[t("option",{attrs:{value:"",disabled:""}},[e._v("Seleccionar")]),t("option",{attrs:{value:"Masculino"}},[e._v("Masculino")]),t("option",{attrs:{value:"Femenino"}},[e._v("Femenino")])])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Teléfono personal",icon:"phone",group:"",type:"number",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.numero_personal,callback:function(a){e.$set(e.paciente,"numero_personal",e._n(a))},expression:"paciente.numero_personal"}})],1),t("div",{staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Teléfono familiar",icon:"phone",group:"",type:"number",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.numero_familiar,callback:function(a){e.$set(e.paciente,"numero_familiar",e._n(a))},expression:"paciente.numero_familiar"}})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Dirección",icon:"map-marker",group:"",type:"textarea",invalidFeedback:"Escribe una dirección",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.direccion,callback:function(a){e.$set(e.paciente,"direccion","string"===typeof a?a.trim():a)},expression:"paciente.direccion"}})],1)]),t("h4",{staticClass:"text-left text-dark mt-5"},[e._v(" Historia médica del paciente "),t("mdb-btn",{directives:[{name:"show",rawName:"v-show",value:!e.paciente.medicamento_habitual||!e.paciente.enfermedad,expression:"\n                    !paciente.medicamento_habitual || !paciente.enfermedad\n                  "}],staticClass:"animated flipInX",attrs:{group:"","dark-waves":"",size:"md",disabled:e.deshabilitado,color:"info",icon:e.historiaMedica?"eye-slash":"eye","icon-class":[{"fa-spin":e.deshabilitado}]},on:{click:function(a){e.historiaMedica=!e.historiaMedica}}},[e._v(e._s(e.historiaMedica?"Ocultar":"Mostrar"))])],1),t("transition-group",{attrs:{name:"custom-classes-transition","enter-active-class":"animated flipInX","leave-active-class":"animated flipOutY",duration:500}},[e.historiaMedica||e.paciente.enfermedad||e.paciente.medicamento_habitual?t("div",{key:"transition400"},[t("div",{key:"transition1",staticClass:"row"},[t("div",{key:"transition20",staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Enfermedad que padece",icon:"head-side-virus",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.enfermedad,callback:function(a){e.$set(e.paciente,"enfermedad","string"===typeof a?a.trim():a)},expression:"paciente.enfermedad"}})],1),t("div",{key:"transition21",staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Medicamentos que toma",icon:"capsules",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.medicamento_habitual,callback:function(a){e.$set(e.paciente,"medicamento_habitual","string"===typeof a?a.trim():a)},expression:"paciente.medicamento_habitual"}})],1)]),t("div",{key:"transition2",staticClass:"row"},[t("div",{key:"transition22",staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"N° de cirugias (marca 0 si no tiene)",icon:"syringe",group:"",type:"number",validate:"",error:"wrong",success:"right",min:0,max:10},model:{value:e.paciente.cirugias,callback:function(a){e.$set(e.paciente,"cirugias",e._n(a))},expression:"paciente.cirugias"}})],1),t("div",{key:"transition23",staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Habitos alimenticios",icon:"utensils",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.habitos_alimentos,callback:function(a){e.$set(e.paciente,"habitos_alimentos","string"===typeof a?a.trim():a)},expression:"paciente.habitos_alimentos"}})],1)]),t("div",{key:"transition3",staticClass:"row"},[t("div",{key:"transition24",staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Habitos de ejercicio",icon:"dumbbell",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.habitos_ejercicio,callback:function(a){e.$set(e.paciente,"habitos_ejercicio","string"===typeof a?a.trim():a)},expression:"paciente.habitos_ejercicio"}})],1),t("div",{key:"transition25",staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Antecedentes familiares",icon:"users",group:"",type:"textarea",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.enfermedad_familiar,callback:function(a){e.$set(e.paciente,"enfermedad_familiar","string"===typeof a?a.trim():a)},expression:"paciente.enfermedad_familiar"}})],1)]),t("div",{key:"transition4",staticClass:"row"},[t("div",{key:"30transition",staticClass:"col-4"},[t("div",{staticClass:"custom-control custom-switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.alcoholico,expression:"alcoholico"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"alcoholico"},domProps:{checked:Array.isArray(e.alcoholico)?e._i(e.alcoholico,null)>-1:e.alcoholico},on:{change:function(a){var t=e.alcoholico,i=a.target,s=!!i.checked;if(Array.isArray(t)){var o=null,n=e._i(t,o);i.checked?n<0&&(e.alcoholico=t.concat([o])):n>-1&&(e.alcoholico=t.slice(0,n).concat(t.slice(n+1)))}else e.alcoholico=s}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"alcoholico"}},[e._v("Es Alcoholico "),t("i",{staticClass:"fas fa-wine-bottle"})])])]),t("div",{key:"31transition",staticClass:"col-4"},[t("div",{staticClass:"custom-control custom-switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.fumador,expression:"fumador"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"fumador"},domProps:{checked:Array.isArray(e.fumador)?e._i(e.fumador,null)>-1:e.fumador},on:{change:function(a){var t=e.fumador,i=a.target,s=!!i.checked;if(Array.isArray(t)){var o=null,n=e._i(t,o);i.checked?n<0&&(e.fumador=t.concat([o])):n>-1&&(e.fumador=t.slice(0,n).concat(t.slice(n+1)))}else e.fumador=s}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"fumador"}},[e._v("Es fumador "),t("i",{staticClass:"fas fa-smoking"})])])]),t("div",{key:"32transition",staticClass:"col-4"},[t("div",{staticClass:"custom-control custom-switch"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tomaCafe,expression:"tomaCafe"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"toma-cafe"},domProps:{checked:Array.isArray(e.tomaCafe)?e._i(e.tomaCafe,null)>-1:e.tomaCafe},on:{change:function(a){var t=e.tomaCafe,i=a.target,s=!!i.checked;if(Array.isArray(t)){var o=null,n=e._i(t,o);i.checked?n<0&&(e.tomaCafe=t.concat([o])):n>-1&&(e.tomaCafe=t.slice(0,n).concat(t.slice(n+1)))}else e.tomaCafe=s}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"toma-cafe"}},[e._v("Toma cafe "),t("i",{staticClass:"fas fa-mug-hot"})])])])]),t("div",{key:"transition5",staticClass:"row"},[e.alcoholico?t("div",{staticClass:"col-4"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Frecuencia",icon:"wine-bottle",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.alcoholico,callback:function(a){e.$set(e.paciente,"alcoholico","string"===typeof a?a.trim():a)},expression:"paciente.alcoholico"}})],1):e._e(),e.fumador?t("div",{staticClass:"col-4"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Frencuencia",icon:"smoking",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.fumador,callback:function(a){e.$set(e.paciente,"fumador","string"===typeof a?a.trim():a)},expression:"paciente.fumador"}})],1):e._e(),e.tomaCafe?t("div",{staticClass:"col-4"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Frecuencia",icon:"mug-hot",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.toma_cafe,callback:function(a){e.$set(e.paciente,"toma_cafe","string"===typeof a?a.trim():a)},expression:"paciente.toma_cafe"}})],1):e._e()]),t("div",{staticClass:"col-12"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Motivo de hospitalización",icon:"user-injured",group:"",type:"textarea",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.motivo,callback:function(a){e.$set(e.paciente,"motivo","string"===typeof a?a.trim():a)},expression:"paciente.motivo"}})],1),t("div",{key:"transition6",staticClass:"row"},[t("div",{key:"transition26",staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Medicamento a suministrar",icon:"stethoscope",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.medicamento_hosp,callback:function(a){e.$set(e.paciente,"medicamento_hosp","string"===typeof a?a.trim():a)},expression:"paciente.medicamento_hosp"}})],1),t("div",{key:"transition27",staticClass:"col-6"},[t("mdb-input",{staticClass:"my-4",attrs:{outline:"",label:"Observación",icon:"exclamation",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:e.paciente.observacion,callback:function(a){e.$set(e.paciente,"observacion","string"===typeof a?a.trim():a)},expression:"paciente.observacion"}})],1)])]):e._e()])],1),t("div",{staticClass:"text-center py-4 mt-3"},[t("mdb-btn",{staticClass:"btn btn-block",attrs:{disabled:e.deshabilitado,color:"success",icon:e.deshabilitado?"circle-notch":"user-nurse","icon-class":[{"fa-spin":e.deshabilitado}],type:"submit"}},[e._v("Registrar paciente")])],1)])])],1)],1)])])},s=[],o=t("1da1"),n=(t("96cf"),t("bc3a")),c=t.n(n),r=t("91c9"),l={name:"Paciente-Agregar",components:{mdbInput:r["mdbInput"],mdbBtn:r["mdbBtn"],mdbCard:r["mdbCard"],mdbCardBody:r["mdbCardBody"]},data:function(){return{cantidadCamasDisponibles:[],deshabilitado:!1,historiaMedica:!1,paciente:{nombre:"",apellido:"",edad:null,sexo:"",numero_personal:null,numero_familiar:null,direccion:"",enfermedad:"",medicamento_habitual:"",cirugias:null,habitos_alimentos:"",habitos_ejercicio:"",fumador:null,alcoholico:null,toma_cafe:null,enfermedad_familiar:"",motivo:"",medicamento_hosp:"",observacion:""},tomaCafe:"",alcoholico:"",fumador:""}},mounted:function(){this.obtenerCamasDisponibles()},methods:{obtenerCamasDisponibles:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var t,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t="http://localhost:5000/api/cantidad-camas-disponibles",a.prev=1,a.next=4,c.a.get(t,{headers:{autenticacion:"".concat(localStorage.getItem("admin-login"))}});case 4:i=a.sent,s=i.data.camasDisponibles,e.cantidadCamasDisponibles=s,a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](1),alertify.error("Error al obtener la cantidad de camas disponibles");case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))()},limpiarCampos:function(){this.tomaCafe="",this.alcoholico="",this.fumador="",this.paciente={nombre:"",apellido:"",edad:null,sexo:"",numero_personal:null,numero_familiar:null,direccion:"",enfermedad:"",medicamento_habitual:"",cirugias:null,habitos_alimentos:"",habitos_ejercicio:"",fumador:null,alcoholico:null,toma_cafe:null,enfermedad_familiar:"",motivo:"",medicamento_hosp:"",observacion:""},this.deshabilitado=!1},agregarPaciente:function(e){var a=this;if(this.deshabilitado=!0,null===this.paciente.numero_personal||null===this.paciente.numero_familiar)return this.deshabilitado=!1,void alertify.error("El numero de personal y familiar son obligatorios");if(this.paciente.numero_personal===this.paciente.numero_familiar)return this.deshabilitado=!1,void alertify.error("El numero de personal y familiar no pueden ser iguales");if(""===this.paciente.nombre||""===this.paciente.apellido||null===this.paciente.edad||""===this.paciente.sexo||null===this.paciente.numero_personal||null===this.paciente.numero_familiar||""===this.paciente.direccion||""===this.paciente.enfermedad||""===this.paciente.medicamento_habitual||null===this.paciente.cirugias||""===this.paciente.habitos_alimentos||""===this.paciente.habitos_ejercicio||""===this.paciente.enfermedad_familiar||""===this.paciente.motivo||""===this.paciente.medicamento_hosp||""===this.paciente.observacion)return alertify.set("notifier","position","top-right"),alertify.error("Todos los campos son obligatorios"),void(this.deshabilitado=!1);this.paciente.fumador?this.paciente.fumador="Si. ".concat(this.paciente.fumador," "):this.paciente.fumador="No",this.paciente.alcoholico?this.paciente.alcoholico="Si. ".concat(this.paciente.alcoholico," "):this.paciente.alcoholico="No",this.paciente.toma_cafe?this.paciente.toma_cafe="Si. ".concat(this.paciente.toma_cafe," "):this.paciente.toma_cafe="No";var t=this.paciente,i="http://localhost:5000/api/paciente-registro";e.target.classList.add("was-validated"),c.a.post(i,t,{headers:{autenticacion:"".concat(localStorage.getItem("admin-login"))}}).then((function(e){alertify.set("notifier","position","top-right"),alertify.success("Paciente registrado con exito"),e.data.id_cama?alertify.success("El número de cama asignado es "+e.data.id_cama):alertify.warning("El paciente no tiene cama asignada, se ha agregado a la cola."),a.deshabilitado=!1,a.limpiarCampos(),setTimeout((function(){a.$router.push("/")}),2e3)})).catch((function(e){a.deshabilitado=!1,alertify.error("Error al registrar paciente. Recuerde que los números personales & Familiar son unicos"+e)}))}}},d=l,m=t("2877"),u=Object(m["a"])(d,i,s,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0bab15.5a5de7cf.js.map